# Latch Configuration - Azure Commercial Cloud
# Copy to .env.local and fill in your values

# Azure AD Application (from Azure Portal → App Registrations)
LATCH_CLIENT_ID=00000000-0000-0000-0000-000000000000
LATCH_TENANT_ID=11111111-1111-1111-1111-111111111111

# Cloud Environment (do not change for commercial)
LATCH_CLOUD=commercial

# OAuth Scopes (space-separated)
# Common scopes:
#   openid profile        - Basic user info
#   User.Read             - Read user profile
#   Mail.Read             - Read user email
#   Calendars.Read        - Read user calendar
#   Files.Read            - Read user files
LATCH_SCOPES=openid profile User.Read

# OAuth Redirect URI (must match Azure AD app registration)
# Default: http://localhost:3000/api/latch/callback
# Production: https://yourapp.com/api/latch/callback
LATCH_REDIRECT_URI=http://localhost:3000/api/latch/callback

# Cookie Encryption Secret (REQUIRED - generate with: openssl rand -base64 32)
# NEVER commit this to git!
LATCH_COOKIE_SECRET=

# Debug Mode (optional, set to 'true' for verbose logging)
# Note: Tokens are NEVER logged, even in debug mode
LATCH_DEBUG=false

# Next.js URL (used if LATCH_REDIRECT_URI not set)
NEXTAUTH_URL=http://localhost:3000

# ============================================
# OPTIONAL: For Direct Token Mode (client-side)
# ============================================
# Only needed if using useAccessToken() hook
# NEXT_PUBLIC_LATCH_CLOUD=commercial
# NEXT_PUBLIC_LATCH_TENANT_ID=11111111-1111-1111-1111-111111111111

# ============================================
# Quick Start Checklist
# ============================================
# 1. Go to Azure Portal (https://portal.azure.com)
# 2. Navigate to: App Registrations → Your App
# 3. Copy "Application (client) ID" → LATCH_CLIENT_ID
# 4. Copy "Directory (tenant) ID" → LATCH_TENANT_ID
# 5. Generate cookie secret: openssl rand -base64 32
# 6. Add to Authentication → Redirect URIs:
#    - http://localhost:3000/api/latch/callback (dev)
#    - https://yourapp.com/api/latch/callback (prod)
# 7. Grant API permissions (Microsoft Graph):
#    - User.Read (delegated)
# 8. Restart Next.js dev server

# ============================================
# Azure AD App Registration Settings
# ============================================
# Platform: Web
# Redirect URIs:
#   - http://localhost:3000/api/latch/callback
#   - https://yourapp.com/api/latch/callback
#
# Supported account types:
#   - Single tenant (most secure)
#   - OR Multi-tenant (if needed)
#
# API permissions:
#   - Microsoft Graph → Delegated permissions
#   - User.Read (minimum)
#
# Certificates & secrets:
#   - NOT NEEDED (using PKCE)
